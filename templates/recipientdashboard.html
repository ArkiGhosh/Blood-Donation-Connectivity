<!doctype html>
<html lang="en">
  <head> 
    <!-- Required meta tags -->
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1">

    <!-- Bootstrap CSS -->
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.1.3/dist/css/bootstrap.min.css" rel="stylesheet" integrity="sha384-1BmE4kWBq78iYhFldvKuhfTAU6auU8tT94WrHftjDbrCEXSU1oBoqyl2QvZ6jIW3" crossorigin="anonymous">
    <script src=
    "https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js">
        </script>
        <script src=
    "https://stackpath.bootstrapcdn.com/bootstrap/4.1.2/js/bootstrap.min.js">
        </script>
    <title></title>
    <script>
      function showHideRow(row1, row2) {
        $("#" + row1).toggle();
        $("#" + row2).toggle();
    }
  </script>
  <script>
    function showHideRow1(row1) {
      $("#" + row1).toggle();
  }
</script>
  <script src=
"https://ajax.googleapis.com/ajax/libs/jquery/3.4.1/jquery.min.js">
    </script>
    <script>
      $(document).ready(function() {
          $("#search").on("keyup", function() {
              var value = $(this).val().toLowerCase();
              $("#pouch tr").filter(function() {
                  $(this).toggle($(this).text()
                  .toLowerCase().indexOf(value) > -1)
              });
          });
      });
      $(document).ready(function() {
        $("#searchb").on("keyup", function() {
            var value = $(this).val().toLowerCase();
            $("#pouchb tr").filter(function() {
                $(this).toggle($(this).text()
                .toLowerCase().indexOf(value) > -1)
            });
        });
    });
    function change1(){
      let e = document.querySelector('.second');
      let e1 = document.querySelector('.second1');
      if (e.classList.contains('first')){
        e.classList.remove('first');
      }
      else{
        e.classList.add('first');
      }
      if (e1.classList.contains('first1')){
        e1.classList.add('first1');
      }
      

    }
    function change2(){
      let e = document.querySelector('.second1');
      let e1 = document.querySelector('.second');
      if (e.classList.contains('first1')){
        e.classList.remove('first1');
      }
      else{
        e.classList.add('first1');
      }
      if (e1.classList.contains('first')){
        e1.classList.add('first');
      }
    }
  </script>
    <style>
      .first{
        display:none;
      }
      .first1{
        display:none;
      }
      .heading{
        text-align: center;
        font-family: Comfortaa;
        margin-top:40px;
    }
        .scroll {
            border: none;
            padding: 5px;
            font: 24px/36px sans-serif;
            width: 200px;
            height: 200px;
            overflow: scroll;
            }
          ::-webkit-scrollbar {
            width: 12px;
            height: 12px;
            }
            ::-webkit-scrollbar-track {
            border: 1px solid #BBDEFB;
            border-radius: 10px;
            }
            ::-webkit-scrollbar-thumb {
            background: #BBDEFB;
            border-radius: 10px;
            }
            ::-webkit-scrollbar-thumb:hover {
            background: #01579B;
            }
            .cloud{
              height:100px;
              width:125px;
              opacity: 0.7;
              position: relative;
              transform: translateX(-100%);
              
            }
            .cloud1{
              animation: float 12s linear infinite;
            }
            .cloud2{
              animation: float 12s linear 3s infinite;
            }
            .cloud3{
              animation: float 12s linear 6s infinite;
              zoom:0.5;
            }
            .rec{
              width: 140px;
              height: 50px;
              background: #fff;
              border-radius: 50px;
              position: absolute;
              bottom: 0;
            }
            @keyframes float{
              0%{
                transform: translateX(-100%);
              }
              100%{
                transform: translateX(100vw);
              }
            }
            .vrec1{
              width: 50px;
              height: 85px;
              background: #fff;
              position:absolute;
              bottom: 0;
              border-radius: 50px;
              right: 10px;
            }
            .vrec2{
              width: 50px;
              height: 75px;
              background: #fff;
              position:absolute;
              bottom: 0;
              border-radius: 100px;
              right: 50px;
            }
    </style>
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/4.7.0/css/font-awesome.min.css">
  </head>
  <body style ="background-color:#BBDEFB">
    <nav class="navbar navbar-expand-lg navbar-dark bg-dark">
        <div class="container-fluid">
            <a class="navbar-brand" href="/" style = "color:#87ceeb;font-family:Comfortaa">DropsOfLife |</a>
            <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbarSupportedContent" aria-controls="navbarSupportedContent" aria-expanded="false" aria-label="Toggle navigation">
            <span class="navbar-toggler-icon"></span>
            </button>
            <div class="collapse navbar-collapse" id="navbarSupportedContent">
            <ul class="navbar-nav me-auto mb-2 mb-lg-0">
                <li class="nav-item">
                <a class="nav-link active" aria-current="page" href="/"><i class="fa fa-home" aria-hidden="true"></i></a>
                </li>
                <li class="nav-item">
                    <a class="nav-link active" href="/contact" style = "font-family:Comfortaa">Contact</a>
                </li>
                <li class="nav-item">
                    <a class="nav-link active" href="/about" style = "font-family:Comfortaa">About Us</a>
                </li>
                <li class="nav-item">
                    <a class="nav-link active" href="/services" style = "font-family:Comfortaa">Services</a>
                </li>
            </ul>
            <div class = "nav-item dropdown">
                <a class="nav-link dropdown-toggle" href="#" id="navbarDropdown" role="button" data-bs-toggle="dropdown" aria-expanded="false" style = "color:#87ceeb;font-family:Comfortaa">
                    More Options
                </a>
                    <ul class="dropdown-menu" aria-labelledby="navbarDropdown">
                        <li><a class="dropdown-item" href="/recipientprofile" style = "font-family:Comfortaa">
                            <i class = "fa fa-user" aria-hidden = "true"></i>
                            My Profile
                        </a></li>
                        <li><a class="dropdown-item" href="/" style = "font-family:Comfortaa">
                            <i class="fa fa-power-off" aria-hidden = "true"></i>
                            Logout
                        </a></li>
                    </ul>
            </div>
            </div>
        </div>
    </nav>
    {% if messages %}
    {% for message in messages %}
    <div class="alert alert-success alert-dismissible fade show my-0" role="alert">
      <strong>{{message}}</strong>
    </div>
    {% endfor %}
    {% endif %}

    <div class = "cloud cloud1">
      <div class = "rec"></div>
      <div class = "vrec1"></div>
      <div class = "vrec2"></div>
    </div>

    <div class = "cloud cloud3">
      <div class = "rec"></div>
      <div class = "vrec1"></div>
      <div class = "vrec2"></div>
    </div>

    <div class="heading">
      <h2>
          <b>
          Welcome to Recipient Dashboard
          </b>
      </h2>
  </div>
  <div class="options" style = "text-align:center;padding: 10px">
      <button class="btn btn-primary" type="button" onclick="change1()" style="margin-right:50px; padding:10px; width:200px">
        View Pouches
    </button>
    <button class="btn btn-primary" type="button" onclick="change2()" style="margin-left:50px;padding:10px; width:200px">
      View Pouch Bookings
    </button>
   
    </div>

<div class = "first my-5 second" style="border-radius:5px !important;"> 
  
      <h4 style="text-align:center; font-family:Comfortaa; padding:5px">
        <b>
            View pouches
        </b>
      </h4>
  <div style = "overflow:auto; height:300px;">
    <table style="border-radius:10px !important;overflow:hidden; border-collapse:collapse; width:80%; margin:auto; font-family:Comfortaa;">
      <thead class="thead-dark">
        <tr style = "background-color:#01579B;color:white" >
            <th scope="col"  style="padding:10px;font-size:17px;">Blood Group</th>
            <th scope="col"  style="padding:10px;font-size:17px">Volume</th>
            <th scope="col"  style="padding:10px;font-size:17px">Hospital Name</th>
            <th scope="col"  style="padding:10px;font-size:17px">Date of Donation</th>
            <th scope="col"  style="padding:10px;font-size:;"></th>
            <th scope="col"  style="padding:10px;font-size:;text-align:center;"><input id="search" class="form-control" type="text" 
              placeholder="Search here"></th>
        </tr>
      </thead>
      <tbody id = "pouch">
        {% for h  in ubp %}
            <tr style="background-color:#01579B;color:white; border-color:#4FC3F7">
              <td style = "font-family:Comfortaa;font-size:17px;padding:10px">{{h.10}}</td>
              <td style = "font-family:Comfortaa;font-size:17px;padding:10px">{{h.6}}ml</td>
              <td style = "font-family:Comfortaa;font-size:17px;padding:10px">{{h.13}}</td>
              <td style = "font-family:Comfortaa;font-size:17px;padding:10px">{{h.8}}</td>
              <td style = "font-family:Comfortaa;font-size:17px;padding:10px">
                <button class="btn btn-link btn-block text-left collapsed" type="button" data-toggle="collapse" data-target="#collapseTwo" aria-expanded="true" aria-controls="collapseTwo" onclick="showHideRow('hidden_row{{h.0}}1','hidden_row{{h.0}}2')">
                    <b><i class="fa fa-angle-down" aria-hidden="true" style = "color: #4FC3F7"></i></b>
                </button>
              </td>
              <td style = "font-family:Comfortaa;font-size:17px;padding:10px;text-align:center;">
              <form method="post">
                {% csrf_token %}
                <input type="hidden" name="pouchid" value={{h.0}}  >
                <input type="hidden" name="bookorbookings" value="book"  >
                  <button method="" type="submit" class="btn btn-primary">Book</button>
                </td>
              </form>
            </tr>
            <tr id="hidden_row{{h.0}}1" class="hidden_row" style = "display:none; padding:10px; background-color:#4FC3F7">
              <td style = "padding:10px">Weight: {{h.2}}kg</td>
              <td style = "padding:10px">Height: {{h.3}}cm</td>
              <td style = "padding:10px">Covid Status: {{h.4}}</td>
              <td style = "padding:10px">Age: {{h.5}}</td>
              <td style="padding:10px;font-size:;"></td>
              <td style="padding:10px;font-size:;"></td>
            </tr>
            <tr id="hidden_row{{h.0}}2" class="hidden_row" style = "display:none; padding:10px; background-color:#4FC3F7">
                <td style = "padding:10px">Gender: {{h.7}}</td>
                <td style = "padding:10px">Additional Data: {{h.11}}</td>
                <td style = "padding:10px">Contact: {{h.14}}</td>
                <td style = "padding:10px">Additional Data: {{h.15}}</td>
                <td style="padding:10px;font-size:;"></td>
                <td style="padding:10px;font-size:;"></td>
            </tr>
            
            {% endfor %}
      </tbody>
    </table>
  </div>
</div>

<div class = "first1 my-5 second1" style="border-radius:5px !important;"> 
  
  <h4 style="text-align:center; font-family:Comfortaa; padding:5px">
    <b>
        Your bookings
    </b>
  </h4>
<div style = "overflow:auto; height:200px;">
<table style="border-radius:10px !important;overflow:hidden; border-collapse:collapse; width:80%; margin:auto; font-family:Comfortaa;">
  <thead class="thead-dark">
    <tr style = "background-color:#01579B;color:white" >
        <th scope="col"  style="padding:10px;font-size:17px;">Pouch ID</th>
        <th scope="col"  style="padding:10px;font-size:17px">Hospital Name</th>
        <th scope="col"  style="padding:10px;font-size:;">Hospital Contact</th>
        <th scope="col"  style="padding:10px;font-size:;text-align:center;" colspan = "2"><input id="searchb" class="form-control" type="text" 
          placeholder="Search here"></th>
    </tr>
  </thead>
  <tbody id = "pouchb">
    {% for h  in mb %}
        <tr style="background-color:#4FC3F7;color:black; border-color:#4FC3F7">
          <td style = "font-family:Comfortaa;font-size:17px;padding:10px">{{h.1}}</td>
          <td style = "font-family:Comfortaa;font-size:17px;padding:10px">{{h.17}}</td>
          <td style = "font-family:Comfortaa;font-size:17px;padding:10px">{{h.18}}</td>
          <td style = "font-family:Comfortaa;font-size:17px;padding:10px">{{h.14}}</td>
          <td style = "font-family:Comfortaa;font-size:17px;padding:10px">{{h.2}}</td>
          {% comment %} <td style = "font-family:Comfortaa;font-size:17px;padding:10px;text-align:center">
            <button class="btn btn-link btn-block text-left collapsed" type="button" data-toggle="collapse" data-target="#collapseTwo" aria-expanded="true" aria-controls="collapseTwo" onclick="showHideRow1('hidden_row{{h.0}}3')">
                <b><i class="fa fa-angle-down" aria-hidden="true" style = "color: :#01579B"></i></b>
            </button>
          </td> {% endcomment %}
        </tr>
        {% comment %} <tr id="hidden_row{{h.0}}3" class="hidden_row" style = "display:none; padding:10px; background-color:#4FC3F7">
          <td style = "padding:10px">Blood Group: {{h.14}}</td>
          <td style = "padding:10px">Additional Details: {{h.15}}</td>
          <td style = "padding:10px">Contact: {{h.18}}</td>
          <td style="padding:10px;font-size:;">Address: {{h.19}}</td>
        </tr> {% endcomment %}
        {% endfor %}
  </tbody>
</table>
</div>
</div>
    

<div class = "cloud cloud2">
        <div class = "rec"></div>
        <div class = "vrec1"></div>
        <div class = "vrec2"></div>
      </div>


<div class="siteFooterBar py-2" style = "text-align: center">
  <div style = "font-family:Comfortaa"><h5><b>A project by</b></h6></div>
  <div class="content">
    <div class="foot" style = "font-family:Comfortaa;"><h5><b>Inspired <img src="/static/company_logo.png" height = "50" weight = "50"> Engine</b></h5></div>
          <!--<div class="foot" style = "font-family:Comfortaa"><h5><b>Inspired Engine</b></h5></div>-->
  </div>
</div>
    <!-- Optional JavaScript; choose one of the two! -->

    <!-- Option 1: Bootstrap Bundle with Popper -->
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.1.3/dist/js/bootstrap.bundle.min.js" integrity="sha384-ka7Sk0Gln4gmtz2MlQnikT1wXgYsOg+OMhuP+IlRH9sENBO0LRn5q+8nbTov4+1p" crossorigin="anonymous"></script>

    <!-- Option 2: Separate Popper and Bootstrap JS -->
    <!--
    <script src="https://cdn.jsdelivr.net/npm/@popperjs/core@2.10.2/dist/umd/popper.min.js" integrity="sha384-7+zCNj/IqJ95wo16oMtfsKbZ9ccEh31eOz1HGyDuCQ6wgnyJNSYdrPa03rtR1zdB" crossorigin="anonymous"></script>
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.1.3/dist/js/bootstrap.min.js" integrity="sha384-QJHtvGhmr9XOIpI6YVutG+2QOK9T+ZnN4kzFN1RtK3zEFEIsxhlmWl5/YESvpZ13" crossorigin="anonymous"></script>
    -->
  </body>
</html>